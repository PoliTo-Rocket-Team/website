!function(){"use strict";const t=window.matchMedia("(prefers-color-scheme: dark)");!function(t){const e=document.getElementById("page-nav"),n=e.querySelector("button"),s=document.getElementById("page-content");if(!e||!n||!s)return alert("No page-nav or page-content");const o="open-page-nav-state";history.state===o&&history.back(),window.addEventListener("popstate",(function(){if(!a)return;a=!1,e.classList.remove("open"),n.classList.remove("active"),s.classList.remove("unfocus"),s.removeEventListener("click",i),document.body.classList.remove("has-nav-open")})),n.addEventListener("click",(function(){history.state===o?history.back():(history.pushState(o,""),function(){if(a)return;a=!0,e.classList.add("open"),n.classList.add("active"),s.classList.add("unfocus"),s.addEventListener("click",i),document.body.classList.add("has-nav-open")}())}));let a=!1;function i(){history.state===o&&history.back()}window.addEventListener("scroll",function(t,e){let n=!1;return function(){n||(n=!0,setTimeout((()=>{e(),n=!1}),t))}}(100,(function(){let n=window.scrollY;if(e.classList.toggle("down",n>t),Math.abs(n-c)<10)return;e.classList.toggle("hide",n>c),c=n})));let c=window.scrollY}(100),function(){const e=document.querySelectorAll('input[type="radio"][name="theme"]'),n=localStorage.getItem("theme");if(n){for(var s of(document.body.setAttribute("data-theme",n),e))if(s.value===n){s.checked=!0;break}}else document.body.setAttribute("data-theme","system");for(var s of e)s.addEventListener("change",o);function o(){document.body.setAttribute("data-theme",this.value),localStorage.setItem("theme",this.value);const e="system"===this.value?t.matches:"dark"===this.value;window.dispatchEvent(new CustomEvent("PRT:theme",{detail:{dark:e}}))}}()}();
