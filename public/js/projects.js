!function(){"use strict";const t=window.matchMedia("(prefers-color-scheme: dark)");!function(t){if(!t)return console.log("No water-mark detected");window.addEventListener("scroll",function(t){let e;function n(){t(),e=null}return function(){e||(e=requestAnimationFrame(n))}}((function(){const e=.35*window.scrollY/window.innerHeight;t.style.setProperty("--t",e.toFixed(12))})))}(document.querySelector(".water-mark")),function(){const e=document.querySelectorAll('input[type="radio"][name="theme"]'),n=localStorage.getItem("theme");if(n){for(var o of(document.body.setAttribute("data-theme",n),e))if(o.value===n){o.checked=!0;break}}else document.body.setAttribute("data-theme","system");for(var o of e)o.addEventListener("change",s);function s(){document.body.setAttribute("data-theme",this.value),localStorage.setItem("theme",this.value);const e="system"===this.value?t.matches:"dark"===this.value;window.dispatchEvent(new CustomEvent("PRT:theme",{detail:{dark:e}}))}}(),function(t){const e=document.getElementById("page-nav"),n=e.querySelector("button"),o=document.getElementById("page-content");if(!e||!n||!o)return alert("No page-nav or page-content");const s="open-page-nav-state";history.state===s&&history.back(),window.addEventListener("popstate",(function(){if(!a)return;a=!1,e.classList.remove("open"),n.classList.remove("active"),o.classList.remove("unfocus"),o.removeEventListener("click",i),document.body.classList.remove("has-nav-open")})),n.addEventListener("click",(function(){history.state===s?history.back():(history.pushState(s,""),function(){if(a)return;a=!0,e.classList.add("open"),n.classList.add("active"),o.classList.add("unfocus"),o.addEventListener("click",i),document.body.classList.add("has-nav-open")}())}));let a=!1;function i(){history.state===s&&history.back()}window.addEventListener("scroll",function(t,e){let n=!1;return function(){n||(n=!0,setTimeout((()=>{e(),n=!1}),t))}}(100,(function(){let n=window.scrollY;if(e.classList.toggle("down",n>t),Math.abs(n-c)<10)return;e.classList.toggle("hide",n>c),c=n})));let c=window.scrollY}(70)}();
